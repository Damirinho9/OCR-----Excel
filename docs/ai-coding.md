# AI Coding Rules - OCR Cards to Excel

## –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### Workflow –ø—Ä–æ—Ç–æ–∫–æ–ª
–õ—é–±–∞—è –∑–∞–¥–∞—á–∞ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª—É: **spec ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç ‚Üí –ø–ª–∞–Ω ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Üí check ‚Üí —Ñ–∏–∫—Å—ã ‚Üí commit**

1. **Spec** - –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π –∑–∞–¥–∞—á—É, —É—Ç–æ—á–Ω–∏ –µ—Å–ª–∏ –Ω–µ—è—Å–Ω–æ
2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç** - –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ —á–∏—Ç–∞–π `docs/architecture.md` –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã
3. **–ü–ª–∞–Ω** - —á—Ç–æ –º–µ–Ω—è–µ–º, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –∫–∞–∫–∏–µ –º–æ–¥—É–ª–∏ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã
4. **–ò–∑–º–µ–Ω–µ–Ω–∏—è** - —Ç–æ—á–µ—á–Ω—ã–µ –ø—Ä–∞–≤–∫–∏, –æ–¥–∏–Ω –º–æ–¥—É–ª—å/—Ñ—É–Ω–∫—Ü–∏—è
5. **Check** - –∑–∞–ø—É—Å–∫ `bash scripts/check.sh` –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
6. **–§–∏–∫—Å—ã** - –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–ø–∞–ª–∞, —á–∏–Ω–∏–º —Ç–æ—á–µ—á–Ω–æ –ø–æ –ª–æ–≥–∞–º
7. **Commit** - –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

### –¢–æ—á–µ—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- ‚úÖ –û–¥–Ω–∞ –∑–∞–¥–∞—á–∞ = –æ–¥–∏–Ω –º–æ–¥—É–ª—å/—Ñ—É–Ω–∫—Ü–∏—è
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏
- ‚ùå –ù–ï –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–π –≤—Å—ë —Å –Ω—É–ª—è –±–µ–∑ —è–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- ‚ùå –ù–ï –¥–µ–ª–∞–π "–±–æ–ª—å—à—É—é –ø–µ—Ä–µ–¥–µ–ª–∫—É" –±–µ–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏—è

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö/—Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–µ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ù–ï –≥–ª—É—à–∏ –æ—à–∏–±–∫–∏ —Ä–∞–¥–∏ –∑–µ–ª—ë–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π `catch {}` / `except: pass` –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **–Ø–∑—ã–∫:** JavaScript ES6+ (Vanilla JS, –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- **OCR:** Tesseract.js 5.0 + ONNX Runtime Web
- **–§–æ—Ä–º–∞—Ç—ã:** HTML5, CSS3, XLSX.js –¥–ª—è Excel
- **–•—Ä–∞–Ω–µ–Ω–∏–µ:** IndexedDB –¥–ª—è –º–æ–¥–µ–ª–µ–π, LocalStorage –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
```
OCR-----Excel/
‚îú‚îÄ‚îÄ index_v5.html           # –¢–µ–∫—É—â–∞—è Enterprise –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ index_v4.html           # Pro –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ index_v3.html           # Professional –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ index_v2.html           # Extended –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ index_fixed.html        # –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ index_improved.html     # –£–ª—É—á—à–µ–Ω–Ω–∞—è –±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ index (1).html          # –û—Ä–∏–≥–∏–Ω–∞–ª v1
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ architecture.md     # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ ai-coding.md        # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îÇ   ‚îú‚îÄ‚îÄ decisions/          # ADR (Architecture Decision Records)
‚îÇ   ‚îî‚îÄ‚îÄ runbooks/           # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ check.sh            # –û—Å–Ω–æ–≤–Ω–∞—è check-–∫–æ–º–∞–Ω–¥–∞
‚îî‚îÄ‚îÄ claude.md               # AI Dev 2025 Protocol
```

### Check-–∫–æ–º–∞–Ω–¥–∞
```bash
bash scripts/check.sh
```

–ü–æ—Å–ª–µ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–ø—É—Å–∫–∞–π —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### ‚ùå –ù–ï –õ–û–ú–ê–ô –±–µ–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏—è

#### 1. –ü—É–±–ª–∏—á–Ω—ã–µ API
–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ –≤—Å—ë–º –∫–æ–¥–µ - –Ω–µ –º–µ–Ω—è–π —Å–∏–≥–Ω–∞—Ç—É—Ä—ã:

```javascript
// OCR Functions
async function processWithTesseract(file, language)
async function processWithNeuralOCR(file)
async function processWithHybrid(file, language)

// Parser
function parseCardData(text, confidence, engine)

// UI
function displayResults()
function displayPreviews()
function updateProgress(percent, message)

// ML Training
function addToTrainingDataset(cardData)
function trainModel()
```

#### 2. –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö

**Card Result Format** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ):
```javascript
{
  filename: string,
  fullName: string,
  orderNumber: string,
  phoneNumber: string,
  confidence: number,
  rawText: string,
  engine: 'tesseract' | 'neural' | 'hybrid'
}
```

**Training Data Format**:
```javascript
{
  original: string,
  corrected: string,
  field: string,
  timestamp: string,
  confidence: number
}
```

–ù–ï –º–µ–Ω—è–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É —ç—Ç–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ADR.

#### 3. IndexedDB —Å—Ö–µ–º–∞
```javascript
// Store: 'models'
{
  id: string,
  name: string,
  data: ArrayBuffer,
  version: string,
  accuracy: number
}

// Store: 'trainingData'
{
  id: string,
  pairs: TrainingPair[],
  createdAt: string
}
```

#### 4. Excel —Ñ–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞
–ö–æ–ª–æ–Ω–∫–∏: `–§–∞–π–ª | –§–ò–û | –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ | –¢–µ–ª–µ—Ñ–æ–Ω | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å % | OCR Engine`

–ù–ï –º–µ–Ω—è–π –ø–æ—Ä—è–¥–æ–∫/–Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–∏–≤—ã–∫–ª–∏.

### ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–æ–Ω—ã (—Ä–∞–±–æ—Ç–∞–π –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ)

#### 1. OCR Engine Logic
–§–∞–π–ª: `index_v5.html`, —Ñ—É–Ω–∫—Ü–∏–∏ `processWithX()`

**–ß—Ç–æ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ ‚Üí –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö
- –†–µ–≥—Ä–µ—Å—Å–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ ‚Üí –ø–∞–¥–µ–Ω–∏–µ confidence
- Memory leaks –≤ Worker threads

**–ü—Ä–∞–≤–∏–ª–∞:**
- –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—è–π confidence scores
- –ù–µ —É–¥–∞–ª—è–π fallback –ª–æ–≥–∏–∫—É (Tesseract ‚Üí Neural)

#### 2. ML Training Pipeline
–§–∞–π–ª: `index_v5.html`, —Ñ—É–Ω–∫—Ü–∏–∏ `trainModel()`, `addToTrainingDataset()`

**–ß—Ç–æ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è:**
- –ü–æ—Ç–µ—Ä—è —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ (overfitting)
- –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π –º–æ–¥–µ–ª–µ–π

**–ü—Ä–∞–≤–∏–ª–∞:**
- –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π backup –ø–µ—Ä–µ–¥ –æ–±—É—á–µ–Ω–∏–µ–º
- –í–∞–ª–∏–¥–∏—Ä—É–π –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –°–æ—Ö—Ä–∞–Ω—è–π –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤–µ—Ä—Å–∏—è, –¥–∞—Ç–∞—Å–µ—Ç, accuracy)

#### 3. Data Export (Excel)
–§–∞–π–ª: `index_v5.html`, —Ñ—É–Ω–∫—Ü–∏—è `exportBtn.onclick`

**–ß—Ç–æ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è:**
- –ö—Ä–∏–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞)
- –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã Excel

**–ü—Ä–∞–≤–∏–ª–∞:**
- –¢–µ—Å—Ç–∏—Ä—É–π —Å —Ä—É—Å—Å–∫–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä—è–π –≤—Å–µ –ø–æ–ª—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ
- –ù–µ –º–µ–Ω—è–π —Ñ–æ—Ä–º–∞—Ç –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏

## –†–∞–±–æ—Ç–∞ —Å –∑–∞–¥–∞—á–∞–º–∏

### –§–æ—Ä–º–∞—Ç spec (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–∏—Å–∞–ª –∑–∞–¥–∞—á—É —Å–ª–æ–≤–∞–º–∏)

–ü–æ–º–æ–≥–∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

```markdown
## –ó–∞–¥–∞—á–∞: [–ù–∞–∑–≤–∞–Ω–∏–µ]

**–¢–∏–ø:** –±–∞–≥ / —Ñ–∏—á–∞ / —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ / –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
- –ì–¥–µ –ø—Ä–æ–±–ª–µ–º–∞/—Ñ–∏—á–∞
- –ß—Ç–æ —Ö–æ—Ç–∏–º –¥–æ—Å—Ç–∏—á—å

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

**–ñ–µ–ª–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ö–∞–∫ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- index_v5.html, —Å—Ç—Ä–æ–∫–∏ 123-456
- docs/architecture.md

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ù–µ –ª–æ–º–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å v4
- –ù–µ –º–µ–Ω—è—Ç—å —Ñ–æ—Ä–º–∞—Ç Excel —ç–∫—Å–ø–æ—Ä—Ç–∞

**Definition of Done:**
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (bash scripts/check.sh)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```

### –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å—Ç–æ –∫–∏–Ω—É–ª –æ—à–∏–±–∫—É

**–ü—Ä–∏–º–µ—Ä:**
```
User: "–û—à–∏–±–∫–∞: Cannot read property 'fullName' of undefined"
```

**–¢–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è:**
1. –û–ø—Ä–µ–¥–µ–ª–∏ –º–æ–¥—É–ª—å/—Ñ—É–Ω–∫—Ü–∏—é –≥–¥–µ –ø–∞–¥–∞–µ—Ç
2. –ü–æ–ø—Ä–æ—Å–∏ –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ –∏–ª–∏ –ø—Ä–æ—á–∏—Ç–∞–π —Å–∞–º
3. –ù–∞–π–¥–∏ root cause (–Ω–µ —Å–∏–º–ø—Ç–æ–º!)
4. –ü—Ä–µ–¥–ª–æ–∂–∏ —Ñ–∏–∫—Å + –ø–ª–∞–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏
5. –ù–ï –¥–µ–ª–∞–π –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π –æ –∫–æ–¥–µ, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –≤–∏–¥–µ–ª

**–ü–ª–æ—Ö–æ–π –æ—Ç–≤–µ—Ç:**
> "–î–æ–±–∞–≤—å –ø—Ä–æ–≤–µ—Ä–∫—É `if (data.fullName)` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º"

**–•–æ—Ä–æ—à–∏–π –æ—Ç–≤–µ—Ç:**
> "–ü–æ—Ö–æ–∂–µ, `processedCards[index]` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç undefined. –ü–æ–∫–∞–∂–∏ –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ `handleEdit()` –∏ —è –Ω–∞–π–¥—É –ø—Ä–∏—á–∏–Ω—É. –í–µ—Ä–æ—è—Ç–Ω–æ, –∏–Ω–¥–µ–∫—Å –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –º–∞—Å—Å–∏–≤–∞ –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã."

## –†–æ–ª–∏ AI –∞–≥–µ–Ω—Ç–∞

### 1. Scaffold (–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
–ö–æ–≥–¥–∞: –Ω—É–∂–Ω—ã –±–æ–ª–≤–∞–Ω–∫–∏ —Ñ–∞–π–ª–æ–≤/—Ñ—É–Ω–∫—Ü–∏–π/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–î–µ–ª–∞–π:**
- –°–æ–∑–¥–∞–≤–∞–π –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –î–æ–±–∞–≤–ª—è–π TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –û—Å—Ç–∞–≤–ª—è–π –º–µ—Å—Ç–æ –¥–ª—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// TODO: Implement real ONNX model loading
async function loadNeuralModel() {
  console.log('Loading ONNX model...');
  // Mock implementation for now
  return Promise.resolve();
}
```

### 2. Refactor (–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)
–ö–æ–≥–¥–∞: –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –±–µ–∑ —Å–º–µ–Ω—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è

**–î–µ–ª–∞–π:**
- –ù–ï –º–µ–Ω—è–π –ø—É–±–ª–∏—á–Ω—ã–µ API
- –°–æ—Ö—Ä–∞–Ω—è–π –≤—Å–µ —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–º–∏
- –†–∞–±–æ—Ç–∞–π –º–∞–ª–µ–Ω—å–∫–∏–º–∏ —à–∞–≥–∞–º–∏

**–ù–µ –¥–µ–ª–∞–π:**
- –ú–∞—Å—Å–æ–≤—ã–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
- –°–º–µ–Ω—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –±–µ–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏—è

### 3. Tests (–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
–ö–æ–≥–¥–∞: –Ω—É–∂–Ω—ã/—Ä–∞—Å—à–∏—Ä—è–π —Ç–µ—Å—Ç—ã

**–î–µ–ª–∞–π:**
- –ü—Ä–æ–≤–µ—Ä—è–π edge cases
- –¢–µ—Å—Ç–∏—Ä—É–π —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –î–æ–±–∞–≤–ª—è–π —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ —Ñ–∏–∫—Å–æ–º –±–∞–≥–æ–≤

**–§–∞–π–ª:** `scripts/check.sh` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### 4. Docs (–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
–ö–æ–≥–¥–∞: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–î–µ–ª–∞–π:**
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π docs —Å –∫–æ–¥–æ–º
- –û–±–Ω–æ–≤–ª—è–π –ø—Ä–∏–º–µ—Ä—ã
- –î–æ–±–∞–≤–ª—è–π —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è UI –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–§–∞–π–ª—ã:**
- `docs/architecture.md` - –ø—Ä–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- `docs/decisions/*.md` - –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π
- `docs/runbooks/*.md` - –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### 5. Debug (–û—Ç–ª–∞–¥–∫–∞)
–ö–æ–≥–¥–∞: –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ –ª–æ–≥–∞–º

**–î–µ–ª–∞–π:**
- –ß–∏—Ç–∞–π –≤–µ—Å—å —Å—Ç–µ–∫ —Ç—Ä–µ–π—Å
- –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏ –ø—Ä–æ–±–ª–µ–º—É –ª–æ–∫–∞–ª—å–Ω–æ
- –ü—Ä–µ–¥–ª–∞–≥–∞–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ñ–∏–∫—Å

**–ù–µ –¥–µ–ª–∞–π:**
- try/catch –≤–æ–∫—Ä—É–≥ –≤—Å–µ–≥–æ –∫–æ–¥–∞
- –ì–ª—É—à–µ–Ω–∏–µ console.error
- –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

## –†–∞–±–æ—Ç–∞ —Å –≤–µ—Ä—Å–∏—è–º–∏

### Version History
- **v1** (index (1).html) - –±–∞–∑–æ–≤—ã–π MVP
- **v2** (index_v2.html) - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **v3** (index_v3.html) - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
- **v4** (index_v4.html) - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **v5** (index_v5.html) - **–¢–ï–ö–£–©–ê–Ø**, Enterprise —Å ML

### –ü—Ä–∞–≤–∏–ª–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
1. **–ù–ï –º–µ–Ω—è–π —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏** - –æ–Ω–∏ –Ω—É–∂–Ω—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
2. **–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ v5** (index_v5.html)
3. **–°–æ–∑–¥–∞–≤–∞–π v6 —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è** —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

### –ú–∏–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ–∏—á—É –∏–∑ v4 –≤ v5:
1. –ü—Ä–æ—á–∏—Ç–∞–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ v4
2. –ê–¥–∞–ø—Ç–∏—Ä—É–π –ø–æ–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É v5
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
4. –û–±–Ω–æ–≤–∏ docs/architecture.md

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏:

**–ü—Ä–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö:**
- `docs/architecture.md` - —Ä–∞–∑–¥–µ–ª —Å –º–æ–¥—É–ª–µ–º
- `docs/decisions/NNNN-–Ω–∞–∑–≤–∞–Ω–∏–µ.md` - —Å–æ–∑–¥–∞–π –Ω–æ–≤—ã–π ADR

**–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ–∏—á:**
- `docs/architecture.md` - —Ä–∞–∑–¥–µ–ª "–ö–ª—é—á–µ–≤—ã–µ –º–æ–¥—É–ª–∏"
- README.md (–µ—Å–ª–∏ –µ—Å—Ç—å) - —Å–µ–∫—Ü–∏—è Features

**–ü—Ä–∏ —Ñ–∏–∫—Å–µ –±–∞–≥–æ–≤:**
- `docs/runbooks/testing.md` - –¥–æ–±–∞–≤—å —Ç–µ—Å—Ç –∫–µ–π—Å

**–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ API:**
- `docs/architecture.md` - —Ä–∞–∑–¥–µ–ª "–ü—É–±–ª–∏—á–Ω—ã–µ API"
- `docs/ai-coding.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª, —Å–µ–∫—Ü–∏—è "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è"

## Check-–∫–æ–º–∞–Ω–¥–∞ –¥–µ—Ç–∞–ª–∏

–ü–æ—Å–ª–µ –õ–Æ–ë–´–• –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–ø—É—Å–∫–∞–π:
```bash
bash scripts/check.sh
```

–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
1. HTML –≤–∞–ª–∏–¥–∞—Ü–∏—è
2. JavaScript syntax
3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã OCR
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ Excel
5. Performance benchmarks

–ï—Å–ª–∏ —É–ø–∞–ª–æ:
- –ß–∏—Ç–∞–π –≤–µ—Å—å –≤—ã–≤–æ–¥
- –ß–∏–Ω–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É
- –ù–µ –≥–ª—É—à–∏ –æ—à–∏–±–∫–∏
- –ü–æ–≤—Ç–æ—Ä—è–π check

## Commit-—Å–æ–æ–±—â–µ–Ω–∏—è

### –§–æ—Ä–º–∞—Ç:
```
<type>: <short summary>

<detailed description>

Affected modules:
- OCR Engine (hybrid mode)
- Excel Exporter

Breaking changes: none

Testing:
- bash scripts/check.sh ‚úÖ
- Manual testing with 10 cards ‚úÖ
```

### Types:
- `feat` - –Ω–æ–≤–∞—è —Ñ–∏—á–∞
- `fix` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `refactor` - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è
- `docs` - —Ç–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `test` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- `perf` - —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü—Ä–∏–º–µ—Ä—ã:

**Good:**
```
feat: add hybrid OCR mode with auto-selection

Implements automatic engine selection based on confidence score.
Tesseract is used first, if confidence < 80% - Neural OCR kicks in.

Affected modules:
- processWithHybrid() function
- OCR engine selector UI

Breaking changes: none

Testing:
- bash scripts/check.sh ‚úÖ
- Tested on 50 cards, accuracy improved from 88% to 94% ‚úÖ
```

**Bad:**
```
updated code
```

## –û—Å–æ–±—ã–µ —Å–ª—É—á–∞–∏

### –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–µ –≥–æ—Ç–æ–≤ (–Ω–µ—Ç docs/)
1. –ü—Ä–µ–¥–ª–æ–∂–∏ bootstrap (—Å–æ–∑–¥–∞–Ω–∏–µ docs/, scripts/)
2. –ù–ï —Ä–∞–±–æ—Ç–∞–π –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
3. –ü—Ä–æ—Å–∏ –±–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –±–æ–ª—å—à–∞—è/–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è
1. –ü—Ä–æ—á–∏—Ç–∞–π `docs/architecture.md`
2. –ü—Ä–æ–≤–µ—Ä—å ADR –≤ `docs/decisions/`
3. –ü—Ä–µ–¥–ª–æ–∂–∏ –ø–ª–∞–Ω: —á—Ç–æ –º–µ–Ω—è–µ–º, –Ω—É–∂–µ–Ω –ª–∏ –Ω–æ–≤—ã–π ADR
4. –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º ‚Äî –∫–æ–¥

### –ï—Å–ª–∏ –Ω–µ—Ç —Ç–µ—Å—Ç–æ–≤
1. –û–±—ä—è—Å–Ω–∏ –≤–∞–∂–Ω–æ—Å—Ç—å feedback-loop
2. –ü—Ä–µ–¥–ª–æ–∂–∏ —Å–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
3. –†–∞–±–æ—Ç–∞–π –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—å:
- [ ] Spec –ø–æ–Ω—è—Ç–µ–Ω –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω
- [ ] –ü—Ä–æ—á–∏—Ç–∞–ª `docs/architecture.md` –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã
- [ ] –ü–ª–∞–Ω –∏–∑–º–µ–Ω–µ–Ω–∏–π —è—Å–µ–Ω
- [ ] –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω —Ç–æ—á–µ—á–Ω–æ (–æ–¥–∏–Ω –º–æ–¥—É–ª—å/—Ñ—É–Ω–∫—Ü–∏—è)
- [ ] –ü—É–±–ª–∏—á–Ω—ã–µ API –Ω–µ —Å–ª–æ–º–∞–Ω—ã
- [ ] –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–∑–º–µ–Ω–µ–Ω—ã
- [ ] `bash scripts/check.sh` –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] Commit-—Å–æ–æ–±—â–µ–Ω–∏–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ

---

**–ü–æ–º–Ω–∏:** –ü—Ä–æ—Ç–æ–∫–æ–ª AI Dev 2025 –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ. –°–ª–µ–¥—É–π –µ–º—É –≤—Å–µ–≥–¥–∞! üöÄ