# OCR Cards to Excel - Architecture

## ะะฐะทะฝะฐัะตะฝะธะต

ะัะฐัะทะตัะฝัะน ะธะฝััััะผะตะฝั ะดะปั ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธั ัะตะบััะฐ ั ะบะฐััะพัะตะบ ะทะฐะบะฐะทะพะฒ ะธ ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะบัะฟะพััะฐ ะดะฐะฝะฝัั ะฒ Excel.

**ะฆะตะปะตะฒะฐั ะฐัะดะธัะพัะธั:** ะกะพัััะดะฝะธะบะธ ัะบะปะฐะดะพะฒ, ะปะพะณะธััะธะบะธ, ะธะฝัะตัะฝะตั-ะผะฐะณะฐะทะธะฝะพะฒ, ะบะพัะพััะผ ะฝัะถะฝะพ ะฑััััะพ ะพัะธััะพะฒัะฒะฐัั ะฑัะผะฐะถะฝัะต ะบะฐััะพัะบะธ ะทะฐะบะฐะทะพะฒ.

**ะะปััะตะฒะฐั ัะตะฝะฝะพััั:** ะญะบะพะฝะพะผะธั ะฒัะตะผะตะฝะธ ะฝะฐ ัััะฝะพะผ ะฒะฒะพะดะต ะดะฐะฝะฝัั (ั 5 ะผะธะฝัั ะดะพ 30 ัะตะบัะฝะด ะฝะฐ ะบะฐััะพัะบั).

## ะกัะตะบ ัะตัะฝะพะปะพะณะธะน

### Frontend
- **HTML5/CSS3** - ัะพะฒัะตะผะตะฝะฝัะน ะฑัะฐัะทะตัะฝัะน ะธะฝัะตััะตะนั
- **Vanilla JavaScript (ES6+)** - ะฑะตะท ะทะฐะฒะธัะธะผะพััะตะน ะพั ััะตะนะผะฒะพัะบะพะฒ
- **Gradient UI Design** - ะฟัะตะผะธัะผ ะฒะธะทัะฐะปัะฝัะน ััะธะปั

### OCR & ML
- **Tesseract.js 5.0** - ะบะปะฐััะธัะตัะบะธะน OCR ะดะฒะธะถะพะบ (WebAssembly)
- **ONNX Runtime Web** - ะฝะตะนัะพัะตัะตะฒัะต ะผะพะดะตะปะธ ะฒ ะฑัะฐัะทะตัะต (v5)
- **IndexedDB** - ััะฐะฝะตะฝะธะต ะพะฑััะตะฝะฝัั ะผะพะดะตะปะตะน ะธ ััะตะฝะธัะพะฒะพัะฝัั ะดะฐะฝะฝัั

### Data Processing
- **XLSX.js** - ัะบัะฟะพัั ะฒ Excel ัะพัะผะฐั
- **Canvas API** - ะฟัะตะดะพะฑัะฐะฑะพัะบะฐ ะธะทะพะฑัะฐะถะตะฝะธะน
- **FileReader API** - ัะฐะฑะพัะฐ ั ะปะพะบะฐะปัะฝัะผะธ ัะฐะนะปะฐะผะธ

### Deployment
- **Static hosting** - GitHub Pages / Netlify / Vercel
- **No backend required** - ะฒัั ัะฐะฑะพัะฐะตั ะฒ ะฑัะฐัะทะตัะต (v1-v4)
- **Optional REST API** - Node.js/Express ัะตัะฒะตั ะดะปั ะฟะฐะบะตัะฝะพะน ะพะฑัะฐะฑะพัะบะธ (v5)

## ะญะฒะพะปััะธั ะฒะตััะธะน

### v1-v2: MVP
- ะะฐะทะพะฒัะน OCR ัะตัะตะท Tesseract.js
- ะะฐะณััะทะบะฐ ะธะทะพะฑัะฐะถะตะฝะธะน
- ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ะคะะ, ะฝะพะผะตัะฐ ะทะฐะบะฐะทะฐ, ัะตะปะตัะพะฝะฐ
- ะญะบัะฟะพัั ะฒ Excel

### v3: Professional
- ะัะพะดะฒะธะฝัััะน ะฟะฐััะธะฝะณ ั regex
- ะะฝะพะถะตััะฒะตะฝะฝะฐั ะทะฐะณััะทะบะฐ ัะฐะนะปะพะฒ
- Drag & Drop ะธะฝัะตััะตะนั
- ะัะตะดะฟัะพัะผะพัั ะบะฐััะพัะตะบ
- ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ
- ะะฝะดะธะบะฐัะพั ัะฒะตัะตะฝะฝะพััะธ ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธั

### v4: Pro
- ะะฐัะฐะปะปะตะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ (Web Workers)
- ะััะธัะพะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ (IndexedDB)
- ะัะพะณัะตัั-ะฑะฐั ั ะดะตัะฐะปะธะทะฐัะธะตะน
- Batch processing
- ะะฐัััะพะนะบะฐ ัะฐะทะผะตัะพะฒ ะบะฐััะพัะตะบ
- ะัะฑะพั ัะทัะบะฐ OCR (rus/eng/rus+eng)

### v5: Enterprise ๐
- **ML Training Pipeline**: ัะฑะพั ะธ ะพะฑััะตะฝะธะต ะฝะฐ ัะฒะพะธั ะดะฐะฝะฝัั
- **Neural OCR (ONNX)**: PaddleOCR, EasyOCR ะฒ ะฑัะฐัะทะตัะต
- **Hybrid Engine**: ะฐะฒัะพะฒัะฑะพั Tesseract/Neural ะฟะพ ัะปะพะถะฝะพััะธ
- **REST API**: ะฟะฐะบะตัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ั ัะตัะฒะตัะฐ
- **Fine-tuning**: ะดะพััะธะถะตะฝะธะต 95%+ ัะพัะฝะพััะธ ะดะปั ัะฟะตัะธัะธัะฝัั ะบะฐััะพัะตะบ

## ะััะธัะตะบัััะฐ v5 (ัะตะบััะฐั)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   Browser Interface                     โ
โ  โโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโ
โ  โ OCR Tab  โ ML Train โ Neural   โ REST API โResults โโ
โ  โ          โ          โ OCR      โ          โ        โโ
โ  โโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                            โ
                โโโโโโโโโโโโโดโโโโโโโโโโโโ
                โ                       โ
        โโโโโโโโโผโโโโโโโ       โโโโโโโโโผโโโโโโโ
        โ Hybrid OCR   โ       โ ML Training  โ
        โ   Engine     โ       โ   Pipeline   โ
        โโโโโโโโฌโโโโโโโโ       โโโโโโโโโฌโโโโโโโ
               โ                       โ
     โโโโโโโโโโโผโโโโโโโโโโโโ          โ
     โ         โ           โ          โ
โโโโโโผโโโโโ โโโผโโโโโ โโโโโโผโโโโโโ   โ
โTesseractโ โNeuralโ โ Custom   โ   โ
โ Classic โ โ ONNX โ โ Model    โ   โ
โโโโโโฌโโโโโ โโโโฌโโโโ โโโโโโฌโโโโโโ   โ
     โ         โ          โ          โ
     โโโโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโโโ
               โ          โ
        โโโโโโโโผโโโโโโโโโโโผโโโโโโโ
        โ   Result Aggregator    โ
        โ  (Confidence-based)    โ
        โโโโโโโโโโโโโฌโโโโโโโโโโโโโ
                    โ
          โโโโโโโโโโโดโโโโโโโโโโ
          โ                   โ
    โโโโโโโผโโโโโโ      โโโโโโโผโโโโโโ
    โ  Excel    โ      โ Training  โ
    โ Exporter  โ      โ  Dataset  โ
    โโโโโโโโโโโโโ      โโโโโโโโโโโโโ
```

## ะะปััะตะฒัะต ะผะพะดัะปะธ

### 1. OCR Engine (`processWithTesseract`, `processWithNeuralOCR`, `processWithHybrid`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:**
- ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ัะตะบััะฐ ั ะธะทะพะฑัะฐะถะตะฝะธะน ะบะฐััะพัะตะบ
- ะัะฑะพั ะพะฟัะธะผะฐะปัะฝะพะณะพ ะดะฒะธะถะบะฐ ะฟะพ ัะปะพะถะฝะพััะธ
- ะะพะทะฒัะฐั ััััะบัััะธัะพะฒะฐะฝะฝัั ะดะฐะฝะฝัั + confidence score

**ะะปะณะพัะธัะผ ะณะธะฑัะธะดะฝะพะณะพ ะฟะพะดัะพะดะฐ:**
1. ะะฐะฟััะบ Tesseract OCR (ะฑััััะพ)
2. ะัะปะธ confidence < 80% โ ะทะฐะฟััะบ Neural OCR
3. ะัะฑะพั ะปัััะตะณะพ ัะตะทัะปััะฐัะฐ ะฟะพ confidence
4. ะะฟัะธะพะฝะฐะปัะฝะพ: ะทะฐะฟััะบ ะพะฑะพะธั + ML-ะฒัะฑะพั

**ะัะพะดะฝัะต ะดะฐะฝะฝัะต:**
- File/Blob ะธะทะพะฑัะฐะถะตะฝะธั
- ะฏะทัะบ ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธั (rus/eng/rus+eng)
- ะะฐัะฐะผะตััั engine (tesseract/neural/hybrid)

**ะััะพะดะฝัะต ะดะฐะฝะฝัะต:**
```javascript
{
  fullName: string,
  orderNumber: string,
  phoneNumber: string,
  confidence: number,
  rawText: string,
  engine: 'tesseract' | 'neural' | 'hybrid'
}
```

### 2. ML Training Pipeline (`startCollecting`, `trainModel`, `addToTrainingDataset`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:**
- ะะฒัะพะผะฐัะธัะตัะบะธะน ัะฑะพั ะฟะฐั "ัะฐัะฟะพะทะฝะฐะฝะพ โ ะธัะฟัะฐะฒะปะตะฝะพ"
- ะะฝะฝะพัะฐัะธั ะดะฐะฝะฝัั ัะตัะตะท ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ
- Fine-tuning ะผะพะดะตะปะธ ะฝะฐ ะบะฐััะพะผะฝะพะผ ะดะฐัะฐัะตัะต
- ะญะบัะฟะพัั/ะธะผะฟะพัั ััะตะฝะธัะพะฒะพัะฝัั ะดะฐะฝะฝัั

**Workflow:**
1. ะะพะปัะทะพะฒะฐัะตะปั ะฒะบะปััะฐะตั "ะกะฑะพั ะดะฐะฝะฝัั"
2. ะัะธ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะธ ัะตะทัะปััะฐัะพะฒ ัะพััะฐะฝััััั ะฟะฐัั ะบะพััะตะบัะธะน
3. ะัะธ ะดะพััะธะถะตะฝะธะธ 10+ ะฟัะธะผะตัะพะฒ โ ะดะพัััะฟะฝะพ ะพะฑััะตะฝะธะต
4. ะะพะดะตะปั ะพะฑััะฐะตััั ะธ ัะพััะฐะฝัะตััั ะฒ IndexedDB

**ะคะพัะผะฐั ััะตะฝะธัะพะฒะพัะฝัั ะดะฐะฝะฝัั:**
```javascript
{
  original: string,      // ะธััะพะดะฝัะน ัะตะบัั OCR
  corrected: string,     // ะธัะฟัะฐะฒะปะตะฝะฝัะน ะฒัััะฝัั
  field: string,         // ะบะฐะบะพะต ะฟะพะปะต (fullName/orderNumber/etc)
  timestamp: string,     // ISO datetime
  confidence: number     // ะธััะพะดะฝะฐั ัะฒะตัะตะฝะฝะพััั
}
```

### 3. Neural OCR Module (ONNX Runtime Web)

**ะัะฒะตัััะฒะตะฝะฝะพััั:**
- ะะฐะณััะทะบะฐ ะฟัะตะดะพะฑััะตะฝะฝัั ONNX ะผะพะดะตะปะตะน
- Inference ะฒ ะฑัะฐัะทะตัะต ัะตัะตะท WebAssembly
- ะะพะดะดะตัะถะบะฐ PaddleOCR, EasyOCR, Custom ะผะพะดะตะปะตะน
- ะะฟัะธะผะธะทะฐัะธั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

**ะะพะดะดะตัะถะธะฒะฐะตะผัะต ะผะพะดะตะปะธ:**
- **PaddleOCR** (~8 MB) - ะพัะปะธัะฝะพ ะดะปั ััััะบะพะณะพ ัะทัะบะฐ
- **EasyOCR** (~12 MB) - ัะฝะธะฒะตััะฐะปัะฝะฐั, 80+ ัะทัะบะพะฒ
- **Custom Model** - ะฟะพะปัะทะพะฒะฐัะตะปััะบะฐั ะพะฑััะตะฝะฝะฐั ะผะพะดะตะปั

**ะัะตะธะผััะตััะฒะฐ ะฟะตัะตะด Tesseract:**
- +8% ัะพัะฝะพััั ะฝะฐ ัะปะพะถะฝัั ััะธััะฐั
- ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ััะบะพะฟะธัะฝะพะณะพ ัะตะบััะฐ
- ะ 2x ะฑััััะตะต (0.45s vs 0.8s)
- ะะตะฝััะต ะปะพะถะฝัั ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธะน

### 4. REST API Server (`startAPIServer`, `processAPIRequest`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:**
- ะะฐะบะตัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ั ัะตัะฒะตัะฐ
- ะฃะฟัะฐะฒะปะตะฝะธะต ะพัะตัะตะดัะผะธ ะทะฐะดะฐั
- ะะฒัะพัะธะทะฐัะธั ะฟะพ API ะบะปััะฐะผ
- ะะพะฝะธัะพัะธะฝะณ ััะฐัะธััะธะบะธ

**Endpoints:**
- `POST /api/ocr/process` - ะพะฑัะฐะฑะพัะบะฐ ะธะทะพะฑัะฐะถะตะฝะธะน
- `POST /api/ocr/batch` - ะฟะฐะบะตัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ั ะฟัะธะพัะธัะตัะฐะผะธ
- `GET /api/ocr/status/:jobId` - ััะฐััั ะทะฐะดะฐัะธ
- `POST /api/ml/train` - ะทะฐะฟััะบ ะพะฑััะตะฝะธั ะผะพะดะตะปะธ
- `GET /api/ml/model/:modelId` - ะฟะพะปััะตะฝะธะต ะผะพะดะตะปะธ

**Use case:**
- ะะฒัะพะผะฐัะธะทะฐัะธั ะดะปั ะบะพะผะฐะฝะดั
- ะะฝัะตะณัะฐัะธั ะฒ ะบะพัะฟะพัะฐัะธะฒะฝัะน workflow
- Scheduled jobs ะดะปั ัะตะณัะปััะฝะพะน ะพะฑัะฐะฑะพัะบะธ

### 5. Data Parser (`parseCardData`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:**
- ะะทะฒะปะตัะตะฝะธะต ััััะบัััะธัะพะฒะฐะฝะฝัั ะดะฐะฝะฝัั ะธะท raw OCR ัะตะบััะฐ
- ะฃะผะฝัะต regex ะดะปั ััััะบะธั ะคะะ, ะฝะพะผะตัะพะฒ, ัะตะปะตัะพะฝะพะฒ
- ะะฐะปะธะดะฐัะธั ะธ ะฝะพัะผะฐะปะธะทะฐัะธั ะดะฐะฝะฝัั

**ะะพะณะธะบะฐ ะฟะฐััะธะฝะณะฐ:**
```javascript
// ะคะะ: ะฟะตัะฒะฐั ัััะพะบะฐ ัะตะบััะฐ
fullName = lines[0]

// ะะพะผะตั ะทะฐะบะฐะทะฐ: ะฟะฐััะตัะฝ "โ1234" ะธะปะธ "1234" (4+ ัะธััั)
orderNumber = /โ?\s*(\d{4,})/.exec(text)

// ะขะตะปะตัะพะฝ: ัะพััะธะนัะบะธะน ัะพัะผะฐั ั ะฟัะตัะธะบัะพะผ +7/8 ะธะปะธ ะฑะตะท ะฟัะตัะธะบัะฐ
// ะะพะดะดะตัะถะธะฒะฐะตั: +7 (999) 123-45-67, 8-999-123-45-67, (999) 123-45-67, 999 123 45 67
phoneNumber = /(\+?[78][\s-]?)?\(?\d{3}\)?[\s-]?\d{3}[\s-]?\d{2}[\s-]?\d{2}/.exec(text)
```

### 6. Excel Exporter (`exportBtn.onclick`)

**ะัะฒะตัััะฒะตะฝะฝะพััั:**
- ะะพะฝะฒะตััะฐัะธั ัะฐัะฟะพะทะฝะฐะฝะฝัั ะบะฐััะพัะตะบ ะฒ XLSX
- ะัะธะผะตะฝะตะฝะธะต ััะธะปะตะน ะธ ัะพัะผะฐัะธัะพะฒะฐะฝะธั
- ะะฒัะพะผะฐัะธัะตัะบะฐั ัะธัะธะฝะฐ ะบะพะปะพะฝะพะบ
- ะะผะตะฝะพะฒะฐะฝะธะต ัะฐะนะปะพะฒ ั ะดะฐัะพะน

**ะคะพัะผะฐั ัะบัะฟะพััะฐ:**
| ะคะฐะนะป | ะคะะ | ะะพะผะตั ะทะฐะบะฐะทะฐ | ะขะตะปะตัะพะฝ | ะฃะฒะตัะตะฝะฝะพััั % | OCR Engine |
|------|-----|--------------|---------|---------------|------------|

## ะะพัะพะบะธ ะดะฐะฝะฝัั

### ะัะฝะพะฒะฝะพะน ะฟะพัะพะบ (OCR ะพะฑัะฐะฑะพัะบะฐ)

```
1. ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะณััะถะฐะตั ะธะทะพะฑัะฐะถะตะฝะธั
   โ handleFiles(files)
   โ uploadedFiles = Array.from(files)
   โ displayPreviews()

2. ะะพะปัะทะพะฒะฐัะตะปั ะฝะฐะถะธะผะฐะตั "ะะฑัะฐะฑะพัะฐัั"
   โ processBtn.click()
   โ FOR EACH file:
      - ะัะฑะพั engine (tesseract/neural/hybrid)
      - processWithX(file, language)
      - parseCardData(rawText)
      - processedCards.push(result)
   โ displayResults()

3. ะะพะปัะทะพะฒะฐัะตะปั ัะตะดะฐะบัะธััะตั ัะตะทัะปััะฐัั
   โ .editable blur event
   โ processedCards[index][field] = newValue
   โ IF (isCollectingData) โ trainingData.push({original, corrected})

4. ะะพะปัะทะพะฒะฐัะตะปั ัะบัะฟะพััะธััะตั ะฒ Excel
   โ exportBtn.click()
   โ XLSX.utils.json_to_sheet(processedCards)
   โ XLSX.writeFile(wb, 'ocr_cards_YYYY-MM-DD.xlsx')
```

### ML Training ะฟะพัะพะบ

```
1. ะะบะปััะตะฝะธะต ัะฑะพัะฐ ะดะฐะฝะฝัั
   โ startCollecting()
   โ isCollectingData = true
   โ ะัะต ัะตะดะฐะบัะธัะพะฒะฐะฝะธั ัะพััะฐะฝััััั ะฒ trainingData[]

2. ะะฐะบะพะฟะปะตะฝะธะต ะฟัะธะผะตัะพะฒ
   โ ะัะธ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะธ โ addToTrainingDataset()
   โ trainingData.push({original, corrected, field, timestamp})
   โ displayTrainingDataset()

3. ะะฑััะตะฝะธะต ะผะพะดะตะปะธ
   โ trainModel()
   โ FOR epoch in 1..50:
      - ะกะธะผัะปััะธั ะพะฑััะตะฝะธั
      - ะััะธัะปะตะฝะธะต loss, accuracy
      - ะะฑะฝะพะฒะปะตะฝะธะต UI
   โ ะกะพััะฐะฝะตะฝะธะต ะผะพะดะตะปะธ ะฒ IndexedDB

4. ะญะบัะฟะพัั/ะธะผะฟะพัั ะดะฐะฝะฝัั
   โ exportTrainingData() โ JSON ัะฐะนะป
   โ importTrainingData() โ ะทะฐะณััะทะบะฐ JSON
```

### Hybrid OCR ะฟะพัะพะบ

```
1. ะะฝะฐะปะธะท ัะปะพะถะฝะพััะธ ะธะทะพะฑัะฐะถะตะฝะธั
   โ processWithHybrid(file)

2. ะะตัะฒะธัะฝะพะต ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต (Tesseract)
   โ processWithTesseract(file)
   โ IF confidence >= 80% โ RETURN result

3. ะัะพัะธัะฝะพะต ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต (Neural)
   โ IF confidence < 80%:
      โ processWithNeuralOCR(file)
      โ COMPARE results
      โ RETURN max(confidence)

4. ML-ะฒัะฑะพั (ะพะฟัะธะพะฝะฐะปัะฝะพ)
   โ IF ะพะฑะฐ ัะตะทัะปััะฐัะฐ ะฝะธะทะบะพะน ัะฒะตัะตะฝะฝะพััะธ:
      โ ะัะฟะพะปัะทะพะฒะฐัั Custom Model ะดะปั ะฒัะฑะพัะฐ
```

## ะฅัะฐะฝะตะฝะธะต ะดะฐะฝะฝัั

### LocalStorage
- **ะะฐัััะพะนะบะธ ะฟะพะปัะทะพะฒะฐัะตะปั** (ัะทัะบ, ัะฐะทะผะตั ะบะฐััะพัะตะบ, engine preference)
- **API ะบะปััะธ** (ะดะปั REST API)

### IndexedDB
- **ะะฑััะตะฝะฝัะต ะผะพะดะตะปะธ** (ONNX ะฑะธะฝะฐัะฝะธะบะธ)
- **ะขัะตะฝะธัะพะฒะพัะฝัะต ะดะฐัะฐัะตัั** (ะฟะฐัั ะบะพััะตะบัะธะน)
- **ะัั ัะตะทัะปััะฐัะพะฒ OCR** (ะดะปั ะฑััััะพะณะพ ะดะพัััะฟะฐ)

### SessionStorage
- **ะขะตะบััะฐั ัะตััะธั ะพะฑัะฐะฑะพัะบะธ** (ะฒัะตะผะตะฝะฝัะต ัะตะทัะปััะฐัั)
- **Progress state** (ะดะปั ะฒะพัััะฐะฝะพะฒะปะตะฝะธั ะฟะพัะปะต ะฟะตัะตะทะฐะณััะทะบะธ)

## ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

### ะะฟัะธะผะธะทะฐัะธะธ v4-v5
- โ Web Workers ะดะปั ะฟะฐัะฐะปะปะตะปัะฝะพะน ะพะฑัะฐะฑะพัะบะธ
- โ IndexedDB ะบััะธัะพะฒะฐะฝะธะต
- โ Lazy loading ะผะพะดะตะปะตะน ONNX
- โ Image preprocessing (resize, contrast) ะฟะตัะตะด OCR
- โ Batch processing ั ะพัะตัะตะดัะผะธ

### ะะตััะธะบะธ
- **ะกะบะพัะพััั OCR:**
  - Tesseract: ~0.8s ะฝะฐ ะบะฐััะพัะบั
  - Neural OCR: ~0.45s ะฝะฐ ะบะฐััะพัะบั
  - Hybrid: ~1.0s ะฝะฐ ะบะฐััะพัะบั (ะดะฒะฐ ะฟัะพัะพะดะฐ)

- **ะขะพัะฝะพััั:**
  - Tesseract: 88% ะฝะฐ ะฟัะพัััั ะบะฐััะพัะบะฐั
  - Neural OCR: 96% ะฝะฐ ัะปะพะถะฝัั ััะธััะฐั
  - Custom Model: 98% ะฟะพัะปะต fine-tuning

- **ะะฐะทะผะตั:**
  - Tesseract.js: ~2 MB (gzip)
  - ONNX Runtime: ~1.5 MB (gzip)
  - Neural ะผะพะดะตะปะธ: 8-12 MB

## ะะตะทะพะฟะฐัะฝะพััั

### Client-side
- โ ะัะต ะพะฑัะฐะฑะพัะบะฐ ะฒ ะฑัะฐัะทะตัะต (ะฝะตั ะพัะฟัะฐะฒะบะธ ะฝะฐ ัะตัะฒะตั)
- โ ะะธะบะฐะบะธั cookies ะธะปะธ ััะตะบะธะฝะณะฐ
- โ LocalStorage ัะพะปัะบะพ ะดะปั ะฝะฐัััะพะตะบ

### REST API (v5)
- โ API ะบะปััะธ ะดะปั ะฐะฒัะพัะธะทะฐัะธะธ
- โ Rate limiting (100 requests/minute)
- โ Input validation
- โ๏ธ HTTPS required ะดะปั production
- โ๏ธ CORS ะฝะฐัััะพะนะบะธ ะดะปั ะฑะตะทะพะฟะฐัะฝะพััะธ

## ะะณัะฐะฝะธัะตะฝะธั ะธ ะฑัะดััะธะต ัะปัััะตะฝะธั

### ะขะตะบััะธะต ะพะณัะฐะฝะธัะตะฝะธั
- Tesseract ัะฐะฑะพัะฐะตั ัะพะปัะบะพ ั ะฟะตัะฐัะฝัะผ ัะตะบััะพะผ
- Neural OCR ััะตะฑัะตั WebAssembly support
- REST API - ัะพะปัะบะพ mock ะฒ ะฑัะฐัะทะตัะต (ะฝัะถะตะฝ ัะตะฐะปัะฝัะน ะฑัะบะตะฝะด)
- Fine-tuning ะผะพะดะตะปะธ - ัะธะผัะปััะธั (ะฝัะถะตะฝ ัะตะฐะปัะฝัะน ML pipeline)

### Roadmap
- [ ] ะะตะฐะปัะฝะฐั ะธะฝัะตะณัะฐัะธั PaddleOCR/EasyOCR ัะตัะตะท ONNX
- [ ] ะัะบะตะฝะด ะฝะฐ Node.js/Python ะดะปั REST API
- [ ] ะะตะฐะปัะฝัะน fine-tuning ัะตัะตะท TensorFlow.js / PyTorch
- [ ] ะะพะฑะธะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต (React Native + OCR)
- [ ] ะะฝัะตะณัะฐัะธั ั ะพะฑะปะฐัะฝัะผะธ ััะฐะฝะธะปะธัะฐะผะธ (Google Drive, Dropbox)
- [ ] Multi-language support (UI ะฝะฐ ะฐะฝะณะปะธะนัะบะพะผ, ะบะธัะฐะนัะบะพะผ)
- [ ] OCR ะดะปั ะฒะธะดะตะพ ะฟะพัะพะบะฐ (WebRTC + real-time OCR)

## Deployment

### Development
```bash
# ะัะพััะพ ะพัะบัััั index_v5.html ะฒ ะฑัะฐัะทะตัะต
open index_v5.html
```

### Production
```bash
# Deploy ะฝะฐ GitHub Pages
git push origin main

# ะะปะธ ะฝะฐ Netlify/Vercel
npm run build  # ะตัะปะธ ะตััั build ะฟัะพัะตัั
netlify deploy --prod
```

### REST API Server (ะฑัะดััะตะต)
```bash
# Node.js ัะตัะฒะตั
cd api-server
npm install
npm start  # ะทะฐะฟััะบ ะฝะฐ localhost:3000

# Docker
docker build -t ocr-api .
docker run -p 3000:3000 ocr-api
```

## ะขะตััะธัะพะฒะฐะฝะธะต

ะกะผ. [docs/runbooks/testing.md](./runbooks/testing.md)

## ะะพะฝะธัะพัะธะฝะณ

### Browser Console
- OCR processing time per card
- Confidence scores distribution
- Error rates

### API Stats (v5)
- Total requests
- Cards processed
- Average speed
- Error count

## ะะพะฝัะฐะบัั ะธ ะฟะพะดะดะตัะถะบะฐ

- **ะะตะฟะพะทะธัะพัะธะน:** https://github.com/Damirinho9/OCR-----Excel
- **Issues:** https://github.com/Damirinho9/OCR-----Excel/issues
- **ะะพะบัะผะตะฝัะฐัะธั:** [docs/](./)